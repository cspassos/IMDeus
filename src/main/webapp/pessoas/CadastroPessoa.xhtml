<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
 	  xmlns="http://www.w3.org/1999/xhtml" 
       xmlns:ui="http://java.sun.com/jsf/facelets" 
       xmlns:h="http://java.sun.com/jsf/html" 
       xmlns:f="http://java.sun.com/jsf/core"
       xmlns:p="http://primefaces.org/ui">
 
    <ui:define name="titulo">Nova Pessoa</ui:define>
    
    <ui:define name="corpo">
    
    	<!-- viewParam -> para executar o listener apenas uma vez no inicio. -->
    	<!-- Antes de iniciar a view ele chama esse metodo que vai carregar os ststaus do grupo -->
    	<f:metadata>
    	<f:viewParam name="dummy" />
    		<f:event listener="#{cadastroPessoaBean.consultaStatusGrupo}" type="preRenderView" />
    	</f:metadata>
    	
    	<h:form id="cadastroPessoaForm">
    		<h1>Nova Pessoa</h1>
    		
    		<p:messages closable="true"/>
    		
    		
    		<ui:include src="/WEB-INF/template/pessoas/BotoesPessoa.xhtml" />
    		
    		<ui:include src="/WEB-INF/template/pessoas/CapaPessoa.xhtml" />
    		
    		<p:tabView style="margin-top: 20px" id="tabPanel" cache="false">
    		
    			<p:tab title="Restrições">
    				<ui:include src="/WEB-INF/template/pessoas/Restricoes.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Endereço">
    				<ui:include src="/WEB-INF/template/pessoas/EnderecoPessoa.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Observação">
    				<ui:include src="/WEB-INF/template/pessoas/ObservacaoPessoa.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Grupos Pessoa" id="tabGrupoPessoa">
    				<ui:include src="/WEB-INF/template/pessoas/TabelaGrupos.xhtml" />
    			</p:tab>
    			
    		</p:tabView>
    		
    	</h:form>
    </ui:define>
 </ui:composition>