<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layout.xhtml">
	
	<ui:define name="content">
		<h1 class="aw-page-title">Cadastro de Pessoas</h1>
    
    	<!-- viewParam -> para executar o listener apenas uma vez no inicio. -->
    	<!-- Antes de iniciar a view ele chama esse metodo que vai carregar os ststaus do grupo -->
    	<f:metadata>
    	<f:viewParam name="dummy" />
    		<f:event listener="#{cadastroPessoaBean.consultaStatusGrupo}" type="preRenderView" />
    	</f:metadata>
    	
    	<h:form id="cadastroPessoaForm">
    		<h1>Nova Pessoa</h1>
    		
    		<p:messages closable="true"/>
    		
    		
    		<ui:include src="/WEB-INF/templates/pessoas/BotoesPessoa.xhtml" />
    		
    		<ui:include src="/WEB-INF/templates/pessoas/CapaPessoa.xhtml" />
    		
    		<p:tabView style="margin-top: 20px" id="tabPanel" cache="false">
    		
    			<p:tab title="Restrições">
    				<ui:include src="/WEB-INF/templates/pessoas/Restricoes.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Endereço">
    				<ui:include src="/WEB-INF/templates/pessoas/EnderecoPessoa.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Observação">
    				<ui:include src="/WEB-INF/templates/pessoas/ObservacaoPessoa.xhtml" />
    			</p:tab>
    			
    			<p:tab title="Grupos Pessoa" id="tabGrupoPessoa">
    				<ui:include src="/WEB-INF/templates/pessoas/TabelaGrupos.xhtml" />
    			</p:tab>
    			
    		</p:tabView>
    		
    	</h:form>
    </ui:define>
 </ui:composition>